<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Net Observation Project</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.auth0.com/js/auth0-spa-js/2.2/auth0-spa-js.production.js"></script>
  <script src="script.js" defer></script>
</head>
<body class="dark">

<div id="terminalIntro">
  <pre>
&gt; booting NET_OBSERVATION_CORE v1.0...
&gt; loading Censys engines...
&gt; attaching dashboards, plugins, maps...
&gt; system online.
  </pre>
</div>

<header class="neon-banner">
  <img src="logo.png" class="logo" alt="Net Observation Project Logo">
  <div class="banner-text">
    <h1>Net Observation Project</h1>
    <p class="subtitle">Global Internet Exposure &amp; Security Observation</p>
  </div>
  <div class="banner-right">
    <button id="authLoginBtn" class="ghost-btn">Login</button>
    <button id="authLogoutBtn" class="ghost-btn hidden">Logout</button>
    <span id="authStatus" class="auth-status">Auth: anon</span>
  </div>
</header>

<div class="layout">
  <aside class="sidebar collapsed">
    <button class="collapse-btn" onclick="toggleSidebar()">‚ò∞</button>
    <input type="text" id="searchBox" placeholder="Search sections...">
    <nav class="main-nav">
      <a href="index.html" class="active">Home</a>
      <a href="docs.html">Docs</a>
      <a href="api.html">API</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="data.html">Data Visualizer</a>
      <a href="versions.html">Versions</a>
    </nav>
    <hr>
    <nav class="version-nav">
      <div class="nav-header">Docs Versions</div>
      <a href="#">v1.0 ¬∑ Public</a>
      <a href="#" class="disabled">v1.1 ¬∑ WIP</a>
      <a href="#" class="disabled">v2.0 ¬∑ Future</a>
    </nav>
    <hr>
    <button class="theme-btn" onclick="toggleTheme()">Toggle Theme</button>
    <button class="settings-btn" onclick="toggleSettings()">Settings</button>
  </aside>

  <main>
    <section>
      <h2>Welcome</h2>
      <p>
        This UI is the front-end for the <strong>Net Observation Project</strong>, a non-commercial
        research effort analyzing global internet exposure using Censys datasets. It now includes:
      </p>
      <ul>
        <li>Dynamic Censys-style live stats (via your backend proxy)</li>
        <li>Auto-updating charts &amp; D3-based world heatmap</li>
        <li>Settings panel, Auth0 hooks, plugin system, and data visualizer</li>
      </ul>
    </section>

    <section>
      <h2>Live Snapshot</h2>
      <div class="card-grid">
        <div class="card">
          <h3>Live Censys Hosts</h3>
          <p id="card-live-hosts">Total hosts: loading‚Ä¶</p>
        </div>
        <div class="card">
          <h3>Live Censys Services</h3>
          <p id="card-live-services">Tracked services: loading‚Ä¶</p>
        </div>
        <div class="card">
          <h3>Last Sync</h3>
          <p id="card-live-sync">Sync: loading‚Ä¶</p>
        </div>
      </div>
    </section>

    <section id="terminal-runner-section">
      <h2>Terminal Runner</h2>
      <div class="card">
        <p>Type commands like <code>help</code>, <code>stats</code>, <code>theme dark</code>, <code>theme light</code>, <code>plugins</code>.</p>
        <div class="terminal-runner">
          <div id="terminalOutput" class="terminal-output"></div>
          <input id="terminalInput" class="terminal-input" placeholder="net-observation&gt; ">
        </div>
      </div>
    </section>

  </main>
</div>

<!-- Settings Panel -->
<div id="settingsPanel" class="settings-panel hidden">
  <div class="settings-inner">
    <h2>Settings / Config</h2>
    <p>These are stored locally in your browser (localStorage). No secrets are sent anywhere from this UI alone.</p>

    <h3>Backend / API</h3>
    <label>Backend summary endpoint (for Censys proxy):<br>
      <input id="cfgEndpoint" placeholder="/api/censys-summary">
    </label>
    <label>Refresh interval (seconds):<br>
      <input id="cfgInterval" type="number" min="5" max="3600" step="5">
    </label>

    <h3>Auth0 (optional)</h3>
    <p>Only fill these in if you have an Auth0 SPA app configured. Do NOT commit real values publicly.</p>
    <label>Auth0 Domain:<br>
      <input id="cfgAuthDomain" placeholder="YOUR-TENANT.eu.auth0.com">
    </label>
    <label>Auth0 Client ID:<br>
      <input id="cfgAuthClient" placeholder="YOUR_CLIENT_ID">
    </label>
    <button id="cfgSaveBtn">Save Settings</button>
    <button id="cfgCloseBtn" class="ghost-btn" onclick="toggleSettings()">Close</button>
  </div>
</div>

<footer>
  <p>¬© 2025 Nicholas Tritsaris ‚Äî Net Observation Project ‚ö°‚ò£üåê</p>
</footer>

</body>
</html>
